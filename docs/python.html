<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="robots" content="noindex, nofollow">

<!-- html generated by pub-server from markdown /python.md -->

<title>Python</title>
<link rel="stylesheet" href="./css/prism.css">
<link rel="stylesheet" href="./css/github-markdown.css">
<link rel="stylesheet" href="./css/pub-theme-doc.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout"><header>
<div id="doctitle"><h1 id="pub-pkg-prism"><a href="./">pub-pkg-prism</a></h1>
</div>
<div id="topmenu"><ul>
<li><a href="https://github.com/jldec/pub-pkg-prism" title="github" target="_blank"><span class="fa fa-lg fa-fw">&#xf09b;</span></a></li>
</ul>
</div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-lg">&#xf0c9;</span></p>

<nav id="toc">
<ul>
<li><a href="./readme">README</a></li>
<li><a href="./java">Java</a></li>
<li><a href="./javascript">JavaScript</a></li>
<li><a href="./markdown">Markdown</a></li>
<li><a href="./python">Python</a></li>
</ul>
</nav>
</div>

<div id="main" onclick="">
<div id="content" class="markdown-body">
<div data-render-page="default"><div data-render-html="/python"><h3 id="python">Python</h3>
<pre><code class="language-python"><span class="token comment"># Copyright 2015 gRPC authors.</span>
<span class="token comment">#</span>
<span class="token comment"># Licensed under the Apache License, Version 2.0 (the "License");</span>
<span class="token comment"># you may not use this file except in compliance with the License.</span>
<span class="token comment"># You may obtain a copy of the License at</span>
<span class="token comment">#</span>
<span class="token comment">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="token comment">#</span>
<span class="token comment"># Unless required by applicable law or agreed to in writing, software</span>
<span class="token comment"># distributed under the License is distributed on an "AS IS" BASIS,</span>
<span class="token comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="token comment"># See the License for the specific language governing permissions and</span>
<span class="token comment"># limitations under the License.</span>
<span class="token triple-quoted-string string">"""The base interface of RPC Framework.

Implementations of this interface support the conduct of "operations":
exchanges between two distinct ends of an arbitrary number of data payloads
and metadata such as a name for the operation, initial and terminal metadata
in each direction, and flow control. These operations may be used for transfers
of data, remote procedure calls, status indication, or anything else
applications choose.
"""</span>

<span class="token comment"># threading is referenced from specification in this module.</span>
<span class="token keyword">import</span> abc
<span class="token keyword">import</span> enum
<span class="token keyword">import</span> threading  <span class="token comment"># pylint: disable=unused-import</span>

<span class="token keyword">import</span> six

<span class="token comment"># abandonment is referenced from specification in this module.</span>
<span class="token keyword">from</span> grpc<span class="token punctuation">.</span>framework<span class="token punctuation">.</span>foundation <span class="token keyword">import</span> abandonment  <span class="token comment"># pylint: disable=unused-import</span>

<span class="token comment"># pylint: disable=too-many-arguments</span>


<span class="token keyword">class</span> <span class="token class-name">NoSuchMethodError</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Indicates that an unrecognized operation has been called.

    Attributes:
      code: A code value to communicate to the other side of the operation
        along with indication of operation termination. May be None.
      details: A details value to communicate to the other side of the
        operation along with indication of operation termination. May be None.
    """</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> code<span class="token punctuation">,</span> details<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Constructor.

        Args:
          code: A code value to communicate to the other side of the operation
            along with indication of operation termination. May be None.
          details: A details value to communicate to the other side of the
            operation along with indication of operation termination. May be None.
        """</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>NoSuchMethodError<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>code <span class="token operator">=</span> code
        self<span class="token punctuation">.</span>details <span class="token operator">=</span> details


<span class="token keyword">class</span> <span class="token class-name">Outcome</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""The outcome of an operation.

  Attributes:
    kind: A Kind value coarsely identifying how the operation terminated.
    code: An application-specific code value or None if no such value was
      provided.
    details: An application-specific details value or None if no such value was
      provided.
  """</span>

    <span class="token decorator annotation punctuation">@enum<span class="token punctuation">.</span>unique</span>
    <span class="token keyword">class</span> <span class="token class-name">Kind</span><span class="token punctuation">(</span>enum<span class="token punctuation">.</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Ways in which an operation can terminate."""</span>

        COMPLETED <span class="token operator">=</span> <span class="token string">'completed'</span>
        CANCELLED <span class="token operator">=</span> <span class="token string">'cancelled'</span>
        EXPIRED <span class="token operator">=</span> <span class="token string">'expired'</span>
        LOCAL_SHUTDOWN <span class="token operator">=</span> <span class="token string">'local shutdown'</span>
        REMOTE_SHUTDOWN <span class="token operator">=</span> <span class="token string">'remote shutdown'</span>
        RECEPTION_FAILURE <span class="token operator">=</span> <span class="token string">'reception failure'</span>
        TRANSMISSION_FAILURE <span class="token operator">=</span> <span class="token string">'transmission failure'</span>
        LOCAL_FAILURE <span class="token operator">=</span> <span class="token string">'local failure'</span>
        REMOTE_FAILURE <span class="token operator">=</span> <span class="token string">'remote failure'</span>


<span class="token keyword">class</span> <span class="token class-name">Completion</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""An aggregate of the values exchanged upon operation completion.

  Attributes:
    terminal_metadata: A terminal metadata value for the operaton.
    code: A code value for the operation.
    message: A message value for the operation.
  """</span>


<span class="token keyword">class</span> <span class="token class-name">OperationContext</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Provides operation-related information and action."""</span>

    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">outcome</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Indicates the operation's outcome (or that the operation is ongoing).

    Returns:
      None if the operation is still active or the Outcome value for the
        operation if it has terminated.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">add_termination_callback</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Adds a function to be called upon operation termination.

    Args:
      callback: A callable to be passed an Outcome value on operation
        termination.

    Returns:
      None if the operation has not yet terminated and the passed callback will
        later be called when it does terminate, or if the operation has already
        terminated an Outcome value describing the operation termination and the
        passed callback will not be called as a result of this method call.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">time_remaining</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Describes the length of allowed time remaining for the operation.

    Returns:
      A nonnegative float indicating the length of allowed time in seconds
      remaining for the operation to complete before it is considered to have
      timed out. Zero is returned if the operation has terminated.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">cancel</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Cancels the operation if the operation has not yet terminated."""</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">fail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Indicates that the operation has failed.

    Args:
      exception: An exception germane to the operation failure. May be None.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Operator</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""An interface through which to participate in an operation."""</span>

    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">advance</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>
                initial_metadata<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                payload<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                completion<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                allowance<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Progresses the operation.

    Args:
      initial_metadata: An initial metadata value. Only one may ever be
        communicated in each direction for an operation, and they must be
        communicated no later than either the first payload or the completion.
      payload: A payload value.
      completion: A Completion value. May only ever be non-None once in either
        direction, and no payloads may be passed after it has been communicated.
      allowance: A positive integer communicating the number of additional
        payloads allowed to be passed by the remote side of the operation.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ProtocolReceiver</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""A means of receiving protocol values during an operation."""</span>

    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">context</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> protocol_context<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Accepts the protocol context object for the operation.

    Args:
      protocol_context: The protocol context object for the operation.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Subscription</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Describes customer code's interest in values from the other side.

  Attributes:
    kind: A Kind value describing the overall kind of this value.
    termination_callback: A callable to be passed the Outcome associated with
      the operation after it has terminated. Must be non-None if kind is
      Kind.TERMINATION_ONLY. Must be None otherwise.
    allowance: A callable behavior that accepts positive integers representing
      the number of additional payloads allowed to be passed to the other side
      of the operation. Must be None if kind is Kind.FULL. Must not be None
      otherwise.
    operator: An Operator to be passed values from the other side of the
      operation. Must be non-None if kind is Kind.FULL. Must be None otherwise.
    protocol_receiver: A ProtocolReceiver to be passed protocol objects as they
      become available during the operation. Must be non-None if kind is
      Kind.FULL.
  """</span>

    <span class="token decorator annotation punctuation">@enum<span class="token punctuation">.</span>unique</span>
    <span class="token keyword">class</span> <span class="token class-name">Kind</span><span class="token punctuation">(</span>enum<span class="token punctuation">.</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>

        NONE <span class="token operator">=</span> <span class="token string">'none'</span>
        TERMINATION_ONLY <span class="token operator">=</span> <span class="token string">'termination only'</span>
        FULL <span class="token operator">=</span> <span class="token string">'full'</span>


<span class="token keyword">class</span> <span class="token class-name">Servicer</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Interface for service implementations."""</span>

    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">service</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> group<span class="token punctuation">,</span> method<span class="token punctuation">,</span> context<span class="token punctuation">,</span> output_operator<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Services an operation.

    Args:
      group: The group identifier of the operation to be serviced.
      method: The method identifier of the operation to be serviced.
      context: An OperationContext object affording contextual information and
        actions.
      output_operator: An Operator that will accept output values of the
        operation.

    Returns:
      A Subscription via which this object may or may not accept more values of
        the operation.

    Raises:
      NoSuchMethodError: If this Servicer does not handle operations with the
        given group and method.
      abandonment.Abandoned: If the operation has been aborted and there no
        longer is any reason to service the operation.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">End</span><span class="token punctuation">(</span>six<span class="token punctuation">.</span>with_metaclass<span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Common type for entry-point objects on both sides of an operation."""</span>

    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Starts this object's service of operations."""</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">stop</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> grace<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Stops this object's service of operations.

    This object will refuse service of new operations as soon as this method is
    called but operations under way at the time of the call may be given a
    grace period during which they are allowed to finish.

    Args:
      grace: A duration of time in seconds to allow ongoing operations to
        terminate before being forcefully terminated by the stopping of this
        End. May be zero to terminate all ongoing operations and immediately
        stop.

    Returns:
      A threading.Event that will be set to indicate all operations having
        terminated and this End having completely stopped. The returned event
        may not be set until after the full grace period (if some ongoing
        operation continues for the full length of the period) or it may be set
        much sooner (if for example this End had no operations in progress at
        the time its stop method was called).
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">operate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>
                group<span class="token punctuation">,</span>
                method<span class="token punctuation">,</span>
                subscription<span class="token punctuation">,</span>
                timeout<span class="token punctuation">,</span>
                initial_metadata<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                payload<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                completion<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                protocol_options<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Commences an operation.

    Args:
      group: The group identifier of the invoked operation.
      method: The method identifier of the invoked operation.
      subscription: A Subscription to which the results of the operation will be
        passed.
      timeout: A length of time in seconds to allow for the operation.
      initial_metadata: An initial metadata value to be sent to the other side
        of the operation. May be None if the initial metadata will be later
        passed via the returned operator or if there will be no initial metadata
        passed at all.
      payload: An initial payload for the operation.
      completion: A Completion value indicating the end of transmission to the
        other side of the operation.
      protocol_options: A value specified by the provider of a Base interface
        implementation affording custom state and behavior.

    Returns:
      A pair of objects affording information about the operation and action
        continuing the operation. The first element of the returned pair is an
        OperationContext for the operation and the second element of the
        returned pair is an Operator to which operation values not passed in
        this call should later be passed.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">operation_stats</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Reports the number of terminated operations broken down by outcome.

    Returns:
      A dictionary from Outcome.Kind value to an integer identifying the number
        of operations that terminated with that outcome kind.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span>

    @abc<span class="token punctuation">.</span>abstractmethod
    <span class="token keyword">def</span> <span class="token function">add_idle_action</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""Adds an action to be called when this End has no ongoing operations.

    Args:
      action: A callable that accepts no arguments.
    """</span>
        <span class="token keyword">raise</span> NotImplementedError<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</div>
</div>
<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="http://jldec.github.io/pub-doc/" target="_blank">pub-server</a> and <a href="https://github.com/jldec/pub-theme-doc" target="_blank">pub-theme-doc</a></p>
</div>
</div>
</div>

<script>window.pubRef = {"href":"/python","relPath":"."};</script>
<script src="./js/jquery-1.12.4.min.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- Copyright (c) 2015-2019 Jürgen Leschner - github.com/jldec - MIT license -->
</body>
</html>
